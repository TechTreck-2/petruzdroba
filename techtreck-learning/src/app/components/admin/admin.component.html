<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<div class="admin">
  <mat-form-field class="search-field">
    <mat-label>Search by email</mat-label>
    <input matInput type="text" [(ngModel)]="searchText" (ngModelChange)="filterUsers()">
    <mat-icon matPrefix>search</mat-icon>
  </mat-form-field>

  <table class="admin-table">
    <thead class="txt-head">
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Role</th>
        <th>Edit</th>
      </tr>
    </thead>
    <tbody>
      @for(user of filteredUsers(); track user.id)
      {
      <tr>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.role }}</td>
        <td><button class="btn-icon-primary" (click)="openEditWindow(user)"><i class="fa-solid fa-pen"
              title="Edit"></i></button></td>
      </tr>
      }
    </tbody>
  </table>
</div>

<app-edit-user [isOpen]="isOpenEdit" [user]="selectedUser" (closeWindow)="closeEditWindow()" />
